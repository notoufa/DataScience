<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Cache-Control" content="max-age=3600, public">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <title>AI助手</title>
    <link rel="stylesheet" href="/assets/style.css?v=1.0.0">
</head>
<body>
    <header class="header" role="banner">
        <h1>AI智能助手</h1>
        <p>基于大语言模型的智能对话系统</p>
    </header>
    <div class="layout-container">
        <aside class="sidebar" role="complementary">
            <div class="history-header">
                <h2>历史记录</h2>
                <button class="new-chat" onclick="startNewChat()" aria-label="开始新对话" title="开始新对话">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" role="img">
                        <title>新建对话图标</title>
                        <path d="M8 1V15M1 8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <span>新对话</span>
                </button>
            </div>
            <nav class="history-list" id="history-list" role="navigation" aria-label="对话历史记录">
                <ul role="group">
                    <!-- 历史记录将在这里显示 -->
                </ul>
            </nav>
        </aside>
        <main class="chat-container" role="main">
            <div class="chat-box" id="chat-box" role="log" aria-live="polite" aria-label="对话内容">
                <template id="message-template">
                    <div class="message">
                        <div class="avatar-container">
                            <img class="avatar" alt="头像" />
                        </div>
                        <div class="message-content"></div>
                    </div>
                </template>
            </div>
            <form class="input-container" onsubmit="handleSubmit(event)" role="form">
                <div class="upload-container">
                    <input type="file" id="file-input" name="files" multiple 
                           class="file-input" aria-label="上传文件"
                           accept="image/*,.pdf,.doc,.docx,.txt" 
                           onchange="handleFileUpload(event)">
                    <button type="button" class="upload-button" 
                            onclick="document.getElementById('file-input').click()"
                            aria-label="选择文件" title="选择文件">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true" role="img">
                            <title>上传文件图标</title>
                            <path d="M4 16L4 17C4 18.6569 5.34315 20 7 20L17 20C18.6569 20 20 18.6569 20 17L20 16M16 8L12 4M12 4L8 8M12 4L12 16" 
                                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                    <div class="file-preview" id="file-preview" aria-live="polite"></div>
                </div>
                <label for="input-box" class="sr-only">输入消息</label>
                <textarea 
                    class="input-box" 
                    id="input-box"
                    name="message"
                    placeholder="输入你的问题..."
                    rows="1"
                    aria-label="输入消息"></textarea>
                <button type="submit" class="send-button" id="send-button" 
                        aria-label="发送消息" title="发送消息">
                    <svg class="send-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" aria-hidden="true" role="img">
                        <title>发送消息图标</title>
                        <path d="M22 2L11 13M22 2L15 22L11 13M11 13L2 9" 
                              stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <svg class="loading-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" 
                         style="display: none;" aria-hidden="true" role="img">
                        <title>加载中图标</title>
                        <circle class="spinner" cx="12" cy="12" r="10" stroke="white" stroke-width="2" fill="none"/>
                    </svg>
                    <span class="sr-only">发送</span>
                </button>
            </form>
        </main>
    </div>
    <script src="/assets/script.js?v=1.0.0"></script>
</body>
</html> 